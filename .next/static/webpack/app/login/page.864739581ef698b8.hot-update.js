"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/login/page",{

/***/ "(app-pages-browser)/./src/services/api.ts":
/*!*****************************!*\
  !*** ./src/services/api.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: function() { return /* binding */ api; }\n/* harmony export */ });\nconst API_BASE_URL = \"https://qe-api.services.staging.cloudwalk.network\";\nconst api = {\n    async getBalance (userId) {\n        console.log(\"API: Buscando saldo para userId:\", userId);\n        try {\n            const response = await fetch(\"\".concat(API_BASE_URL, \"/users/\").concat(userId), {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                console.error(\"API: Erro ao buscar saldo:\", response.status, response.statusText);\n                throw new Error(\"Failed to fetch balance\");\n            }\n            const data = await response.json();\n            console.log(\"API: Saldo obtido:\", data);\n            return data.balance;\n        } catch (error) {\n            console.error(\"API: Erro na chamada getBalance:\", error);\n            throw error;\n        }\n    },\n    async setBalance (data) {\n        console.log(\"API: Atualizando saldo:\", data);\n        try {\n            const response = await fetch(\"\".concat(API_BASE_URL, \"/users/set-balance\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(data)\n            });\n            if (!response.ok) {\n                console.error(\"API: Erro ao atualizar saldo:\", response.status, response.statusText);\n                throw new Error(\"Failed to set balance\");\n            }\n            const result = await response.json();\n            console.log(\"API: Saldo atualizado com sucesso:\", result);\n            return result;\n        } catch (error) {\n            console.error(\"API: Erro na chamada setBalance:\", error);\n            throw error;\n        }\n    },\n    async updateBalancesAfterTransaction (senderId, receiverId, amount) {\n        console.log(\"API: Iniciando atualiza\\xe7\\xe3o de saldos:\", {\n            senderId,\n            receiverId,\n            amount\n        });\n        try {\n            // Get current balances\n            const senderBalance = await this.getBalance(senderId);\n            const receiverBalance = await this.getBalance(receiverId);\n            console.log(\"API: Saldos atuais:\", {\n                senderBalance,\n                receiverBalance\n            });\n            // Update sender's balance (subtract amount)\n            const newSenderBalance = senderBalance - amount;\n            await this.setBalance({\n                user_id: senderId,\n                balance: newSenderBalance\n            });\n            // Update receiver's balance (add amount)\n            await this.setBalance({\n                user_id: receiverId,\n                balance: receiverBalance + amount\n            });\n            // Return updated balances\n            const updatedSenderBalance = await this.getBalance(senderId);\n            const updatedReceiverBalance = await this.getBalance(receiverId);\n            console.log(\"API: Saldos atualizados:\", {\n                updatedSenderBalance,\n                updatedReceiverBalance\n            });\n            return {\n                senderBalance: updatedSenderBalance,\n                receiverBalance: updatedReceiverBalance\n            };\n        } catch (error) {\n            console.error(\"API: Erro ao atualizar saldos:\", error);\n            throw error;\n        }\n    },\n    async transferMoney (data) {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/pay/pos\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            throw new Error(\"Transfer failed\");\n        }\n        return response.json();\n    },\n    async transferPix (data) {\n        // Se from_user_id não foi fornecido, tenta pegar do localStorage\n        if (!data.from_user_id && \"object\" !== \"undefined\") {\n            const storedId = localStorage.getItem(\"userId\");\n            if (storedId) {\n                data.from_user_id = Number(storedId);\n            }\n        }\n        if (!data.from_user_id) {\n            throw new Error(\"from_user_id is required for PIX transfers\");\n        }\n        console.log(\"Iniciando transfer\\xeancia PIX com dados:\", {\n            from_user_id: data.from_user_id,\n            to_user_id: data.to_user_id,\n            amount: data.amount\n        });\n        const requestBody = {\n            from_user_id: Number(data.from_user_id),\n            to_user_id: Number(data.to_user_id),\n            amount: Number(data.amount)\n        };\n        console.log(\"Payload enviado para /pay/pix:\", requestBody);\n        console.log(\"URL da requisi\\xe7\\xe3o:\", \"\".concat(API_BASE_URL, \"/pay/pix\"));\n        try {\n            const response = await fetch(\"\".concat(API_BASE_URL, \"/pay/pix\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\",\n                    \"Origin\": window.location.origin\n                },\n                body: JSON.stringify(requestBody)\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(\"Erro na transfer\\xeancia PIX:\", {\n                    status: response.status,\n                    statusText: response.statusText,\n                    error: errorText\n                });\n                throw new Error(\"PIX transfer failed: \".concat(errorText));\n            }\n            return response.json();\n        } catch (error) {\n            console.error(\"Erro detalhado na transfer\\xeancia PIX:\", error);\n            throw error;\n        }\n    },\n    async payLink (data) {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/pay/link\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            throw new Error(\"Link payment failed\");\n        }\n        return response.json();\n    },\n    async cardPayment (data) {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/card_payment\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            throw new Error(\"Card payment failed\");\n        }\n        return response.json();\n    },\n    async createReceivable (data) {\n        const response = await fetch(\"\".concat(API_BASE_URL, \"/receivables\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to create receivable\");\n        }\n        return response.json();\n    },\n    async getUserInfo (identifier) {\n        console.log(\"API: Buscando usu\\xe1rio com identificador:\", identifier);\n        try {\n            // Se for número, busca direto pelo ID\n            if (/^\\d+$/.test(identifier)) {\n                console.log(\"API: Buscando por ID:\", identifier);\n                const res = await fetch(\"\".concat(API_BASE_URL, \"/users/\").concat(identifier));\n                if (!res.ok) {\n                    const errorText = await res.text();\n                    console.error(\"API: Erro ao buscar usu\\xe1rio por ID:\", {\n                        status: res.status,\n                        statusText: res.statusText,\n                        error: errorText\n                    });\n                    throw new Error(errorText || \"Usu\\xe1rio n\\xe3o encontrado\");\n                }\n                const data = await res.json();\n                console.log(\"API: Usu\\xe1rio encontrado por ID:\", data);\n                return data;\n            }\n            // Busca por handle, email, cpf, etc\n            console.log(\"API: Buscando por handle/email/cpf:\", identifier);\n            const res = await fetch(\"\".concat(API_BASE_URL, \"/users/search?query=\").concat(encodeURIComponent(identifier)));\n            if (!res.ok) {\n                const errorText = await res.text();\n                console.error(\"API: Erro ao buscar usu\\xe1rio por query:\", {\n                    status: res.status,\n                    statusText: res.statusText,\n                    error: errorText\n                });\n                throw new Error(errorText || \"Usu\\xe1rio n\\xe3o encontrado\");\n            }\n            const data = await res.json();\n            console.log(\"API: Resultado da busca:\", data);\n            if (Array.isArray(data) && data.length > 0) {\n                console.log(\"API: Usu\\xe1rio encontrado na lista:\", data[0]);\n                return data[0];\n            }\n            if (data && data.id) {\n                console.log(\"API: Usu\\xe1rio encontrado direto:\", data);\n                return data;\n            }\n            console.error(\"API: Nenhum usu\\xe1rio encontrado para:\", identifier);\n            throw new Error(\"Usu\\xe1rio n\\xe3o encontrado\");\n        } catch (error) {\n            console.error(\"API: Erro na busca de usu\\xe1rio:\", error);\n            throw error;\n        }\n    },\n    async createUser (data) {\n        console.log(\"API: Criando novo usu\\xe1rio com handle:\", data.handle);\n        try {\n            const response = await fetch(\"\".concat(API_BASE_URL, \"/users/new\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify(data)\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(\"API: Erro ao criar usu\\xe1rio:\", {\n                    status: response.status,\n                    statusText: response.statusText,\n                    error: errorText\n                });\n                throw new Error(errorText || \"Failed to create user\");\n            }\n            const result = await response.json();\n            console.log(\"API: Usu\\xe1rio criado com sucesso:\", result);\n            console.log(\"Resposta bruta da API:\", response);\n            console.log(\"Body da resposta:\", result);\n            return result;\n        } catch (error) {\n            console.error(\"API: Erro na chamada createUser:\", error);\n            throw error;\n        }\n    }\n};\nasync function resolveUserId(identifier) {\n    try {\n        const user = await api.getUserInfo(identifier);\n        if (user && typeof user.id === \"number\" && user.id > 0) {\n            return user.id;\n        }\n        throw new Error(\"ID de usu\\xe1rio inv\\xe1lido\");\n    } catch (err) {\n        console.error(\"Erro ao resolver ID do usu\\xe1rio:\", err);\n        throw new Error(\"N\\xe3o foi poss\\xedvel encontrar o usu\\xe1rio de destino.\");\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFTTSxNQUFNO29CQUN2QkMsWUFBWVAsU0FBU08sVUFBVTtvQkFDL0JGLE9BQU9rQztnQkFDVDtnQkFDQSxNQUFNLElBQUkvQixNQUFNK0IsYUFBYTtZQUMvQjtZQUVBLE1BQU12QixTQUFTLE1BQU1oQixTQUFTVSxJQUFJO1lBQ2xDWixRQUFRQyxHQUFHLENBQUMsdUNBQW9DaUI7WUFDaERsQixRQUFRQyxHQUFHLENBQUMsMEJBQTBCQztZQUN0Q0YsUUFBUUMsR0FBRyxDQUFDLHFCQUFxQmlCO1lBQ2pDLE9BQU9BO1FBQ1QsRUFBRSxPQUFPWCxPQUFPO1lBQ2RQLFFBQVFPLEtBQUssQ0FBQyxvQ0FBb0NBO1lBQ2xELE1BQU1BO1FBQ1I7SUFDRjtBQUNGLEVBQUU7QUFFRixlQUFla0QsY0FBY1YsVUFBa0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1XLE9BQU8sTUFBTTdELElBQUlpRCxXQUFXLENBQUNDO1FBQ25DLElBQUlXLFFBQVEsT0FBT0EsS0FBS0osRUFBRSxLQUFLLFlBQVlJLEtBQUtKLEVBQUUsR0FBRyxHQUFHO1lBQ3RELE9BQU9JLEtBQUtKLEVBQUU7UUFDaEI7UUFDQSxNQUFNLElBQUk1QyxNQUFNO0lBQ2xCLEVBQUUsT0FBT2lELEtBQUs7UUFDWjNELFFBQVFPLEtBQUssQ0FBQyxzQ0FBbUNvRDtRQUNqRCxNQUFNLElBQUlqRCxNQUFNO0lBQ2xCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL3NlcnZpY2VzL2FwaS50cz85NTZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZXJEYiB9IGZyb20gJy4vdXNlckRiJztcblxuY29uc3QgQVBJX0JBU0VfVVJMID0gJ2h0dHBzOi8vcWUtYXBpLnNlcnZpY2VzLnN0YWdpbmcuY2xvdWR3YWxrLm5ldHdvcmsnO1xuXG5pbnRlcmZhY2UgVHJhbnNmZXJSZXF1ZXN0IHtcbiAgdG9fdXNlcl9pZDogbnVtYmVyO1xuICBhbW91bnQ6IG51bWJlcjtcbiAgcGF5bWVudF9tZXRob2Q6ICdkZWJpdCcgfCAnY3JlZGl0Jztcbn1cblxuaW50ZXJmYWNlIFBpeFRyYW5zZmVyUmVxdWVzdCB7XG4gIGZyb21fdXNlcl9pZD86IG51bWJlcjtcbiAgdG9fdXNlcl9pZDogbnVtYmVyO1xuICBhbW91bnQ6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFNldEJhbGFuY2VSZXF1ZXN0IHtcbiAgdXNlcl9pZDogbnVtYmVyO1xuICBiYWxhbmNlOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBVc2VyUmVzcG9uc2Uge1xuICBpZDogbnVtYmVyO1xuICBoYW5kbGU6IHN0cmluZztcbiAgYmFsYW5jZTogbnVtYmVyO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBlcnJvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IHtcbiAgYXN5bmMgZ2V0QmFsYW5jZSh1c2VySWQ6IG51bWJlcikge1xuICAgIGNvbnNvbGUubG9nKCdBUEk6IEJ1c2NhbmRvIHNhbGRvIHBhcmEgdXNlcklkOicsIHVzZXJJZCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS91c2Vycy8ke3VzZXJJZH1gLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQVBJOiBFcnJvIGFvIGJ1c2NhciBzYWxkbzonLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBiYWxhbmNlJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnQVBJOiBTYWxkbyBvYnRpZG86JywgZGF0YSk7XG4gICAgICByZXR1cm4gZGF0YS5iYWxhbmNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBUEk6IEVycm8gbmEgY2hhbWFkYSBnZXRCYWxhbmNlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyBzZXRCYWxhbmNlKGRhdGE6IFNldEJhbGFuY2VSZXF1ZXN0KSB7XG4gICAgY29uc29sZS5sb2coJ0FQSTogQXR1YWxpemFuZG8gc2FsZG86JywgZGF0YSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS91c2Vycy9zZXQtYmFsYW5jZWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEk6IEVycm8gYW8gYXR1YWxpemFyIHNhbGRvOicsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNldCBiYWxhbmNlJyk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZygnQVBJOiBTYWxkbyBhdHVhbGl6YWRvIGNvbSBzdWNlc3NvOicsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBUEk6IEVycm8gbmEgY2hhbWFkYSBzZXRCYWxhbmNlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyB1cGRhdGVCYWxhbmNlc0FmdGVyVHJhbnNhY3Rpb24oc2VuZGVySWQ6IG51bWJlciwgcmVjZWl2ZXJJZDogbnVtYmVyLCBhbW91bnQ6IG51bWJlcikge1xuICAgIGNvbnNvbGUubG9nKCdBUEk6IEluaWNpYW5kbyBhdHVhbGl6YcOnw6NvIGRlIHNhbGRvczonLCB7IHNlbmRlcklkLCByZWNlaXZlcklkLCBhbW91bnQgfSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBjdXJyZW50IGJhbGFuY2VzXG4gICAgICBjb25zdCBzZW5kZXJCYWxhbmNlID0gYXdhaXQgdGhpcy5nZXRCYWxhbmNlKHNlbmRlcklkKTtcbiAgICAgIGNvbnN0IHJlY2VpdmVyQmFsYW5jZSA9IGF3YWl0IHRoaXMuZ2V0QmFsYW5jZShyZWNlaXZlcklkKTtcbiAgICAgIGNvbnNvbGUubG9nKCdBUEk6IFNhbGRvcyBhdHVhaXM6JywgeyBzZW5kZXJCYWxhbmNlLCByZWNlaXZlckJhbGFuY2UgfSk7XG5cbiAgICAgIC8vIFVwZGF0ZSBzZW5kZXIncyBiYWxhbmNlIChzdWJ0cmFjdCBhbW91bnQpXG4gICAgICBjb25zdCBuZXdTZW5kZXJCYWxhbmNlID0gc2VuZGVyQmFsYW5jZSAtIGFtb3VudDtcbiAgICAgIGF3YWl0IHRoaXMuc2V0QmFsYW5jZSh7XG4gICAgICAgIHVzZXJfaWQ6IHNlbmRlcklkLFxuICAgICAgICBiYWxhbmNlOiBuZXdTZW5kZXJCYWxhbmNlXG4gICAgICB9KTtcblxuICAgICAgLy8gVXBkYXRlIHJlY2VpdmVyJ3MgYmFsYW5jZSAoYWRkIGFtb3VudClcbiAgICAgIGF3YWl0IHRoaXMuc2V0QmFsYW5jZSh7XG4gICAgICAgIHVzZXJfaWQ6IHJlY2VpdmVySWQsXG4gICAgICAgIGJhbGFuY2U6IHJlY2VpdmVyQmFsYW5jZSArIGFtb3VudFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJldHVybiB1cGRhdGVkIGJhbGFuY2VzXG4gICAgICBjb25zdCB1cGRhdGVkU2VuZGVyQmFsYW5jZSA9IGF3YWl0IHRoaXMuZ2V0QmFsYW5jZShzZW5kZXJJZCk7XG4gICAgICBjb25zdCB1cGRhdGVkUmVjZWl2ZXJCYWxhbmNlID0gYXdhaXQgdGhpcy5nZXRCYWxhbmNlKHJlY2VpdmVySWQpO1xuICAgICAgY29uc29sZS5sb2coJ0FQSTogU2FsZG9zIGF0dWFsaXphZG9zOicsIHsgdXBkYXRlZFNlbmRlckJhbGFuY2UsIHVwZGF0ZWRSZWNlaXZlckJhbGFuY2UgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlbmRlckJhbGFuY2U6IHVwZGF0ZWRTZW5kZXJCYWxhbmNlLFxuICAgICAgICByZWNlaXZlckJhbGFuY2U6IHVwZGF0ZWRSZWNlaXZlckJhbGFuY2VcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSTogRXJybyBhbyBhdHVhbGl6YXIgc2FsZG9zOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyB0cmFuc2Zlck1vbmV5KGRhdGE6IFRyYW5zZmVyUmVxdWVzdCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9wYXkvcG9zYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zZmVyIGZhaWxlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH0sXG5cbiAgYXN5bmMgdHJhbnNmZXJQaXgoZGF0YTogUGl4VHJhbnNmZXJSZXF1ZXN0KSB7XG4gICAgLy8gU2UgZnJvbV91c2VyX2lkIG7Do28gZm9pIGZvcm5lY2lkbywgdGVudGEgcGVnYXIgZG8gbG9jYWxTdG9yYWdlXG4gICAgaWYgKCFkYXRhLmZyb21fdXNlcl9pZCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc3RvcmVkSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7XG4gICAgICBpZiAoc3RvcmVkSWQpIHtcbiAgICAgICAgZGF0YS5mcm9tX3VzZXJfaWQgPSBOdW1iZXIoc3RvcmVkSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZGF0YS5mcm9tX3VzZXJfaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZnJvbV91c2VyX2lkIGlzIHJlcXVpcmVkIGZvciBQSVggdHJhbnNmZXJzJyk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ0luaWNpYW5kbyB0cmFuc2ZlcsOqbmNpYSBQSVggY29tIGRhZG9zOicsIHtcbiAgICAgICAgZnJvbV91c2VyX2lkOiBkYXRhLmZyb21fdXNlcl9pZCxcbiAgICAgICAgdG9fdXNlcl9pZDogZGF0YS50b191c2VyX2lkLFxuICAgICAgICBhbW91bnQ6IGRhdGEuYW1vdW50XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXF1ZXN0Qm9keSA9IHtcbiAgICAgICAgZnJvbV91c2VyX2lkOiBOdW1iZXIoZGF0YS5mcm9tX3VzZXJfaWQpLFxuICAgICAgICB0b191c2VyX2lkOiBOdW1iZXIoZGF0YS50b191c2VyX2lkKSxcbiAgICAgICAgYW1vdW50OiBOdW1iZXIoZGF0YS5hbW91bnQpXG4gICAgfTtcblxuICAgIGNvbnNvbGUubG9nKCdQYXlsb2FkIGVudmlhZG8gcGFyYSAvcGF5L3BpeDonLCByZXF1ZXN0Qm9keSk7XG4gICAgY29uc29sZS5sb2coJ1VSTCBkYSByZXF1aXNpw6fDo286JywgYCR7QVBJX0JBU0VfVVJMfS9wYXkvcGl4YCk7XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vcGF5L3BpeGAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnT3JpZ2luJzogd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBuYSB0cmFuc2ZlcsOqbmNpYSBQSVg6Jywge1xuICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yVGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBJWCB0cmFuc2ZlciBmYWlsZWQ6ICR7ZXJyb3JUZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGRldGFsaGFkbyBuYSB0cmFuc2ZlcsOqbmNpYSBQSVg6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgcGF5TGluayhkYXRhOiBhbnkpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vcGF5L2xpbmtgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTGluayBwYXltZW50IGZhaWxlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH0sXG5cbiAgYXN5bmMgY2FyZFBheW1lbnQoZGF0YTogYW55KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2NhcmRfcGF5bWVudGAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYXJkIHBheW1lbnQgZmFpbGVkJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfSxcblxuICBhc3luYyBjcmVhdGVSZWNlaXZhYmxlKGRhdGE6IGFueSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0VfVVJMfS9yZWNlaXZhYmxlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHJlY2VpdmFibGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICB9LFxuXG4gIGFzeW5jIGdldFVzZXJJbmZvKGlkZW50aWZpZXI6IHN0cmluZyk6IFByb21pc2U8VXNlclJlc3BvbnNlPiB7XG4gICAgY29uc29sZS5sb2coJ0FQSTogQnVzY2FuZG8gdXN1w6FyaW8gY29tIGlkZW50aWZpY2Fkb3I6JywgaWRlbnRpZmllcik7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNlIGZvciBuw7ptZXJvLCBidXNjYSBkaXJldG8gcGVsbyBJRFxuICAgICAgaWYgKC9eXFxkKyQvLnRlc3QoaWRlbnRpZmllcikpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0FQSTogQnVzY2FuZG8gcG9yIElEOicsIGlkZW50aWZpZXIpO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L3VzZXJzLyR7aWRlbnRpZmllcn1gKTtcbiAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSTogRXJybyBhbyBidXNjYXIgdXN1w6FyaW8gcG9yIElEOicsIHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzLnN0YXR1cyxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IHJlcy5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yVGV4dFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclRleHQgfHwgJ1VzdcOhcmlvIG7Do28gZW5jb250cmFkbycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnQVBJOiBVc3XDoXJpbyBlbmNvbnRyYWRvIHBvciBJRDonLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG5cbiAgICAgIC8vIEJ1c2NhIHBvciBoYW5kbGUsIGVtYWlsLCBjcGYsIGV0Y1xuICAgICAgY29uc29sZS5sb2coJ0FQSTogQnVzY2FuZG8gcG9yIGhhbmRsZS9lbWFpbC9jcGY6JywgaWRlbnRpZmllcik7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L3VzZXJzL3NlYXJjaD9xdWVyeT0ke2VuY29kZVVSSUNvbXBvbmVudChpZGVudGlmaWVyKX1gKTtcbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSTogRXJybyBhbyBidXNjYXIgdXN1w6FyaW8gcG9yIHF1ZXJ5OicsIHtcbiAgICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogcmVzLnN0YXR1c1RleHQsXG4gICAgICAgICAgZXJyb3I6IGVycm9yVGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yVGV4dCB8fCAnVXN1w6FyaW8gbsOjbyBlbmNvbnRyYWRvJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ0FQSTogUmVzdWx0YWRvIGRhIGJ1c2NhOicsIGRhdGEpO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0FQSTogVXN1w6FyaW8gZW5jb250cmFkbyBuYSBsaXN0YTonLCBkYXRhWzBdKTtcbiAgICAgICAgcmV0dXJuIGRhdGFbMF07XG4gICAgICB9XG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBUEk6IFVzdcOhcmlvIGVuY29udHJhZG8gZGlyZXRvOicsIGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5lcnJvcignQVBJOiBOZW5odW0gdXN1w6FyaW8gZW5jb250cmFkbyBwYXJhOicsIGlkZW50aWZpZXIpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc3XDoXJpbyBuw6NvIGVuY29udHJhZG8nKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQVBJOiBFcnJvIG5hIGJ1c2NhIGRlIHVzdcOhcmlvOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSxcblxuICBhc3luYyBjcmVhdGVVc2VyKGRhdGE6IHsgaGFuZGxlOiBzdHJpbmcgfSk6IFByb21pc2U8VXNlclJlc3BvbnNlPiB7XG4gICAgY29uc29sZS5sb2coJ0FQSTogQ3JpYW5kbyBub3ZvIHVzdcOhcmlvIGNvbSBoYW5kbGU6JywgZGF0YS5oYW5kbGUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFX1VSTH0vdXNlcnMvbmV3YCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FQSTogRXJybyBhbyBjcmlhciB1c3XDoXJpbzonLCB7XG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICBlcnJvcjogZXJyb3JUZXh0XG4gICAgICAgIH0pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JUZXh0IHx8ICdGYWlsZWQgdG8gY3JlYXRlIHVzZXInKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coJ0FQSTogVXN1w6FyaW8gY3JpYWRvIGNvbSBzdWNlc3NvOicsIHJlc3VsdCk7XG4gICAgICBjb25zb2xlLmxvZygnUmVzcG9zdGEgYnJ1dGEgZGEgQVBJOicsIHJlc3BvbnNlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdCb2R5IGRhIHJlc3Bvc3RhOicsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBUEk6IEVycm8gbmEgY2hhbWFkYSBjcmVhdGVVc2VyOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufTtcblxuYXN5bmMgZnVuY3Rpb24gcmVzb2x2ZVVzZXJJZChpZGVudGlmaWVyOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhcGkuZ2V0VXNlckluZm8oaWRlbnRpZmllcik7XG4gICAgaWYgKHVzZXIgJiYgdHlwZW9mIHVzZXIuaWQgPT09ICdudW1iZXInICYmIHVzZXIuaWQgPiAwKSB7XG4gICAgICByZXR1cm4gdXNlci5pZDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJRCBkZSB1c3XDoXJpbyBpbnbDoWxpZG8nKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyByZXNvbHZlciBJRCBkbyB1c3XDoXJpbzonLCBlcnIpO1xuICAgIHRocm93IG5ldyBFcnJvcignTsOjbyBmb2kgcG9zc8OtdmVsIGVuY29udHJhciBvIHVzdcOhcmlvIGRlIGRlc3Rpbm8uJyk7XG4gIH1cbn0gIl0sIm5hbWVzIjpbIkFQSV9CQVNFX1VSTCIsImFwaSIsImdldEJhbGFuY2UiLCJ1c2VySWQiLCJjb25zb2xlIiwibG9nIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJvayIsImVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJiYWxhbmNlIiwic2V0QmFsYW5jZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0IiwidXBkYXRlQmFsYW5jZXNBZnRlclRyYW5zYWN0aW9uIiwic2VuZGVySWQiLCJyZWNlaXZlcklkIiwiYW1vdW50Iiwic2VuZGVyQmFsYW5jZSIsInJlY2VpdmVyQmFsYW5jZSIsIm5ld1NlbmRlckJhbGFuY2UiLCJ1c2VyX2lkIiwidXBkYXRlZFNlbmRlckJhbGFuY2UiLCJ1cGRhdGVkUmVjZWl2ZXJCYWxhbmNlIiwidHJhbnNmZXJNb25leSIsInRyYW5zZmVyUGl4IiwiZnJvbV91c2VyX2lkIiwic3RvcmVkSWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiTnVtYmVyIiwidG9fdXNlcl9pZCIsInJlcXVlc3RCb2R5Iiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJlcnJvclRleHQiLCJ0ZXh0IiwicGF5TGluayIsImNhcmRQYXltZW50IiwiY3JlYXRlUmVjZWl2YWJsZSIsImdldFVzZXJJbmZvIiwiaWRlbnRpZmllciIsInRlc3QiLCJyZXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJpZCIsImNyZWF0ZVVzZXIiLCJoYW5kbGUiLCJyZXNvbHZlVXNlcklkIiwidXNlciIsImVyciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/services/api.ts\n"));

/***/ })

});